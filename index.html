<header>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
</header>

<body>
	<h1>ספר דברים</h1>

	<table id="table">
		<tr>
			<th>Nom</th>
			<th>Paracha</th>
		</tr>

	</table>

	<script>

		const SECOND = 1000;
		const MINUTE = 60 * SECOND;
		const HOUR = 60 * MINUTE;
		const DAY = 24 * HOUR;
		const WEEK = 7 * DAY;

		const people = [
			"💚 Louisette",
			"🧡 Déborah ",
			"💙 Hanna Berguig ",
			"💜 Esther  ",
			"🩶 Hanna Behar",
			"🤍 Juliette",
			"❤️ Haya",
			"🩵 Ludivine",
			"💛 Orly ",
			"🤎 Ruth ",
			"🩷 Patricia.",
			"🖤 Audelia ",
		];


		const parachiot = [
			"DEVARIM", // 22/06
			"VAETHANAN",
			"EKEV",
			"RÉE",
			"SHOFTIM",
			"KI TETSÉ",
			"KI TAVO",
			"NITSAVIM",
			"VAYÉLEH",
			"AAZINOU",
			"VEZOT HABRAHA",
			"55 derniers PSOUKIM",
		];


		const content = zip(people, shift(parachiot, chabatShiftAmount()));
		const table = document.getElementById("table");
		content.forEach((contentRow) => {
			const row = document.createElement("tr");
			contentRow.forEach(text => {
				const cell = document.createElement("td");
				cell.innerText = text;
				row.appendChild(cell);
			});
			table.appendChild(row);
		});


		// ------
		function shift(array, amount) {
			const index = array.length - amount % array.length;

			const start = array.slice(0, index);
			const end = array.slice(index, array.length);
			return end.concat(start);
			// [1, 2, 3, 4] // amount 0
			// [4][1, 2, 3] // amount 1
			// [3, 4][1, 2] // amount 2
			// [2, 3, 4][1] // amount 3
			// [1, 2, 3, 4] // amount 4  
		}

		function zip(array1, array2) {
			return array1.map((item, index) => [item, array2[index]]);
		}


		function nextSaturday() {
			const date = new Date();
			date.setDate(date.getDate() + (6 + 7 - date.getDay()) % 7);
			return new Date(date.getFullYear(), date.getMonth(), date.getDate());
		}

		function chabatShiftAmount() {
			const start = new Date(2024, 5, 8);
			const nextChabat = nextSaturday();
			const numberOfShabatSinceStart = Math.round((nextChabat.valueOf() - start.valueOf()) / WEEK);
			console.log({
				start,
				nextChabat,
				numberOfShabatSinceStart
			});
			return numberOfShabatSinceStart;
		}


	</script>

	<style>
		html {
			height: 100vh;
			overflow: scroll;
		}

		body {
			margin: 0;
			display: flex;
			flex-direction: column;
			align-items: center;
			justify-content: center;
			height: 100vh;
			background: linear-gradient(to right, #a09af9, #ed89fc);
		}

		body>* {
			flex-shrink: 0;
			min-height: 0;
		}

		#table {
			font-family: Arial, Helvetica, sans-serif;
			border-collapse: collapse;
		}

		#table td,
		#table th {
			border: 1px solid #ddd;
			padding: 8px;
		}

		#table tr:nth-child(odd) {
			background-color: #ffffff30;
		}

		#table th {
			padding-top: 12px;
			padding-bottom: 12px;
			background-color: #6f00ff;
			color: white;
		}
	</style>
</body>